<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
  </head>
  <body>
    <nav class="landing">
      <h2>Meteroite Explorer</h2>

      <div><input /><button>Search</button></div>
    </nav>
    <table class="ui celled padded table">
      <thead>
        <tr>
          <th>Name</th>
          <th>ID</th>
          <th>Name Type</th>
          <th>Rec Class</th>
          <th>Mass (g)</th>
          <th>Fall</th>
          <th>Year</th>
          <th>Longitude</th>
          <th>Latitude</th>
        </tr>
      </thead>
      <tbody>
        <% JSON.parse(response).forEach(val => { %>
        <tr>
          <td>
            <%= val.name %>
          </td>
          <td>
            <%= val.id %>
          </td>
          <td>
            <%= val.nametype %>
          </td>
          <td>
            <%= val.recclass %>
          </td>
          <td>
            <%= val.mass %>
          </td>
          <td>
            <%= val.fall %>
          </td>
          <td>
            <% if(val.year){ %> <%= val.year.slice(0,4) %> <% } %>
          </td>
          <td>
            <%= val.geolocation.latitude %>
          </td>
          <td>
            <%= val.geolocation.longitude %>
          </td>

          <!-- <%= JSON.stringify(val)%> -->
        </tr>
        <% }) %>

        <!-- <tr>
          <td>
            <h2 class="ui center aligned header">A</h2>
          </td>
          <td class="single line">
            Power Output
          </td>
          <td>
            <div
              class="ui star rating"
              data-rating="3"
              data-max-rating="3"
            ></div>
          </td>
          <td class="right aligned">
            80% <br />
            <a href="#">18 studies</a>
          </td>
          <td>
            Creatine supplementation is the reference compound for increasing
            muscular creatine levels; there is variability in this increase,
            however, with some nonresponders.
          </td>
        </tr>
        <tr>
          <td>
            <h2 class="ui center aligned header">A</h2>
          </td>
          <td class="single line">
            Weight
          </td>
          <td>
            <div
              class="ui star rating"
              data-rating="3"
              data-max-rating="3"
            ></div>
          </td>
          <td class="right aligned">
            100% <br />
            <a href="#">65 studies</a>
          </td>
          <td>
            Creatine is the reference compound for power improvement, with
            numbers from one meta-analysis to assess potency
          </td>
        </tr> -->
      </tbody>
      <tfoot>
        <tr>
          <th colspan="9">
            <div class="ui right floated pagination menu">
              <a class="icon item">
                <i class="left chevron icon"></i>
              </a>
              <p><% let j =JSON.parse(response).length /25 %></p>

              <% for(let i = 1; i <= j; i++){ %>
              <a class="item"><%= i %></a>
              <% }%>

              <!-- <a class="item">1</a>
              <a class="item">2</a>
              <a class="item">3</a>
              <a class="item">4</a> -->
              <a class="icon item">
                <i class="right chevron icon"></i>
              </a>
            </div>
          </th>
        </tr>
      </tfoot>
    </table>
    <script>
      window.onload = function() {
        getData();
      };
      function getData() {
        // fetch("https://data.nasa.gov/resource/gh4g-9sfh.json?$limit=25")
        //   .then(res => res.json())
        //   .then(data => console.log(data));
      }
    </script>
  </body>
</html>
